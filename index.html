<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GradMate - ì°¨ì˜ê³¼í•™ëŒ€í•™êµ AIí—¬ìŠ¤ì¼€ì–´ìœµí•©í•™ê³¼</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    * { font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, sans-serif; }
    @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState, useEffect, useRef } = React;

    // Lucide ì•„ì´ì½˜ ì»´í¬ë„ŒíŠ¸
    const Icon = ({ name, className = "w-5 h-5" }) => {
      const ref = useRef(null);
      useEffect(() => {
        if (ref.current) {
          ref.current.innerHTML = '';
          const icon = lucide.createElement(lucide.icons[name]);
          icon.setAttribute('class', className);
          ref.current.appendChild(icon);
        }
      }, [name, className]);
      return <span ref={ref} className="inline-flex items-center justify-center" />;
    };

    // ì‹¤ì œ ì¡¸ì—…ìš”ê±´ (ì°¨ì˜ê³¼í•™ëŒ€í•™êµ ì¼ë°˜ëŒ€í•™ì› í•™ì¹™ ê¸°ì¤€)
    const graduationRequirements = {
      coursework: { name: 'ì´ìˆ˜í•™ì ', required: 24, unit: 'í•™ì ', color: '#6366F1' },
      semesters: { name: 'ì •ê·œí•™ê¸°ë“±ë¡', required: 4, unit: 'í•™ê¸°', color: '#10B981' },
      gpa: { name: 'í‰ì í‰ê· ', required: 3.0, unit: '/4.5', color: '#F59E0B' },
      thesis: { name: 'í•™ìœ„ë…¼ë¬¸', required: 1, unit: 'í¸', color: '#EC4899' },
      qualExam: { name: 'ìê²©ì‹œí—˜', required: 1, unit: 'í•©ê²©', color: '#8B5CF6' },
      publication: { name: 'SCIEê¸‰ ë…¼ë¬¸ê²Œì¬', required: 1, unit: 'í¸', color: '#14B8A6' },
    };

    // êµê³¼ëª© ì¹´í…Œê³ ë¦¬
    const courseCategories = {
      required: { name: 'ì „ê³µí•„ìˆ˜', color: '#6366F1', bgColor: '#EEF2FF' },
      elective: { name: 'ì „ê³µì„ íƒ', color: '#10B981', bgColor: '#ECFDF5' },
      common: { name: 'ê³µí†µí•„ìˆ˜', color: '#F59E0B', bgColor: '#FFFBEB' },
      research: { name: 'ì—°êµ¬/ì¸í„´ì‹­', color: '#EC4899', bgColor: '#FDF2F8' },
    };

    // ì‹¤ì œ ì´ìˆ˜ ê³¼ëª© ë°ì´í„° (2025í•™ë…„ë„ 2í•™ê¸°)
    const sampleCourses = [
      { id: 1, code: 'AIH701', name: 'AIìœµí•©ì—°êµ¬ë°©ë²•ë¡ ', credits: 3, category: 'common', semester: '2025-2', grade: 'A+', professor: 'ë°•ëŒ€ê·¼', location: 'ë¯¸ë˜ê´€316', day: 'ëª©', time: '09:00' },
      { id: 2, code: 'AIH702', name: 'AIì‘ìš©ì‚¬ë¡€ì—°êµ¬â… ', credits: 3, category: 'elective', semester: '2025-2', grade: 'A0', professor: 'ì •ê²½ì¸', location: '', day: 'ê¸ˆ', time: '10:00' },
      { id: 3, code: 'AIH703', name: 'í¨í…Œí¬ë””ì§€í„¸í—¬ìŠ¤ì¼€ì–´ ì¸í„´ì‹­', credits: 3, category: 'research', semester: '2025-2', grade: 'A+', professor: 'í•œí˜„ìš±', location: '', day: 'ì›”', time: '12:00' },
      { id: 4, code: 'AIH704', name: 'ì˜ë£Œì¸ê³µì§€ëŠ¥', credits: 3, category: 'required', semester: '2025-2', grade: 'A0', professor: 'ì¡°ë°±í™˜', location: 'ì°¨ë°”ì´ì˜¤ì»´í”Œë ‰ìŠ¤B205', day: 'ìˆ˜', time: '13:00' },
    ];

    // í•™ì‚¬ì¼ì •
    const academicSchedule = [
      { date: '2026-02-04', event: '2026í•™ë…„ë„ 1í•™ê¸° ìˆ˜ê°•ì‹ ì²­', type: 'critical', daysLeft: -2 },
      { date: '2026-02-11', event: 'ë™ê³„ í•™ìœ„ìˆ˜ì—¬ì‹', type: 'normal', daysLeft: 5 },
      { date: '2026-02-23', event: '1í•™ê¸° ë“±ë¡ê¸ˆ ë‚©ë¶€ ì‹œì‘', type: 'important', daysLeft: 17 },
      { date: '2026-02-27', event: '1í•™ê¸° ë“±ë¡ê¸ˆ ë‚©ë¶€ ë§ˆê°', type: 'critical', daysLeft: 21 },
      { date: '2026-03-03', event: '1í•™ê¸° ê°œê°•', type: 'important', daysLeft: 25 },
      { date: '2026-04-14', event: 'í•™ìœ„ë…¼ë¬¸ì œì¶œ ìê²©ì‹œí—˜ ì‹ ì²­', type: 'important', daysLeft: 67 },
      { date: '2026-07-11', event: 'í•™ìœ„ë…¼ë¬¸ì œì¶œ ë§ˆê°', type: 'critical', daysLeft: 155 },
    ];

    // AI ì¶”ì²œ ê³¼ëª©
    const recommendedCourses = [
      { code: 'AIH801', name: 'AIì‘ìš©ì‚¬ë¡€ì—°êµ¬â…¡', credits: 3, category: 'elective', reason: 'AIì‘ìš©ì‚¬ë¡€ì—°êµ¬â… ì˜ ì—°ì† ê³¼ëª©ì…ë‹ˆë‹¤.', priority: 'high' },
      { code: 'AIH802', name: 'í—¬ìŠ¤ì¼€ì–´ë°ì´í„°ë¶„ì„', credits: 3, category: 'required', reason: 'ì „ê³µí•„ìˆ˜ ê³¼ëª©ìœ¼ë¡œ, ì¡¸ì—…ìš”ê±´ ì¶©ì¡±ì„ ìœ„í•´ ê¶Œì¥ë“œë¦½ë‹ˆë‹¤.', priority: 'high' },
      { code: 'AIH803', name: 'ë””ì§€í„¸ì¹˜ë£Œì œê°œë¡ ', credits: 3, category: 'elective', reason: 'í¨í…Œí¬ ì¸í„´ì‹­ê³¼ ì—°ê³„ë˜ëŠ” ì‹¬í™” ê³¼ëª©ì…ë‹ˆë‹¤.', priority: 'medium' },
      { code: 'AIH901', name: 'ë…¼ë¬¸ì—°êµ¬â… ', credits: 3, category: 'research', reason: '3í•™ê¸°ë¶€í„° ë…¼ë¬¸ ì¤€ë¹„ë¥¼ ì‹œì‘í•˜ì‹œë©´ ì ì ˆí•©ë‹ˆë‹¤.', priority: 'medium' },
    ];

    // Progress Ring Component
    const ProgressRing = ({ progress, size = 120, strokeWidth = 10, color = '#6366F1' }) => {
      const radius = (size - strokeWidth) / 2;
      const circumference = radius * 2 * Math.PI;
      const offset = circumference - (progress / 100) * circumference;
      
      return (
        <svg width={size} height={size} style={{ transform: 'rotate(-90deg)' }}>
          <circle cx={size/2} cy={size/2} r={radius} fill="none" stroke="#E5E7EB" strokeWidth={strokeWidth} />
          <circle cx={size/2} cy={size/2} r={radius} fill="none" stroke={color} strokeWidth={strokeWidth}
            strokeDasharray={circumference} strokeDashoffset={offset} strokeLinecap="round"
            style={{ transition: 'all 1s ease-out' }} />
        </svg>
      );
    };

    function ChaGradMate() {
      const [activeTab, setActiveTab] = useState('dashboard');
      const [courses] = useState(sampleCourses);
      const [showChatbot, setShowChatbot] = useState(false);
      const [chatMessages, setChatMessages] = useState([
        { role: 'assistant', content: 'ì•ˆë…•í•˜ì„¸ìš”! ì°¨ì˜ê³¼í•™ëŒ€í•™êµ AIí—¬ìŠ¤ì¼€ì–´ìœµí•©í•™ê³¼ ì¡¸ì—…ìš”ê±´ AI ì–´ë“œë°”ì´ì €ì…ë‹ˆë‹¤. ğŸ“\n\ní•™ì¹™, ìˆ˜ê°•í¸ëŒ, ì¡¸ì—…ìš”ê±´ì— ëŒ€í•´ ê¶ê¸ˆí•œ ì ì´ ìˆìœ¼ì‹œë©´ ë¬´ì—‡ì´ë“  ë¬¼ì–´ë³´ì„¸ìš”!' }
      ]);
      const [chatInput, setChatInput] = useState('');
      const [expandedSchedule, setExpandedSchedule] = useState(false);

      const studentInfo = {
        name: 'ì„±ë´‰ì£¼',
        studentId: '20259461',
        department: 'AIí—¬ìŠ¤ì¼€ì–´ìœµí•©í•™ê³¼',
        admissionYear: '2025í•™ë…„ë„ í›„ê¸°',
        currentSemester: 1,
        degree: 'ì„ì‚¬ê³¼ì •'
      };

      const totalCredits = 12;
      const completedSemesters = 1;
      const currentGPA = '3.87';

      const progress = {
        coursework: { current: totalCredits, required: 24 },
        semesters: { current: completedSemesters, required: 4 },
        gpa: { current: parseFloat(currentGPA), required: 3.0 },
        thesis: { current: 0, required: 1 },
        qualExam: { current: 0, required: 1 },
        publication: { current: 0, required: 1 },
      };

      const overallProgress = Math.round(
        ((Math.min(progress.coursework.current / progress.coursework.required, 1) * 30) +
        (Math.min(progress.semesters.current / progress.semesters.required, 1) * 20) +
        (progress.gpa.current >= progress.gpa.required ? 15 : (progress.gpa.current / progress.gpa.required) * 15) +
        (progress.thesis.current * 15) +
        (progress.qualExam.current * 10) +
        (progress.publication.current * 10))
      );

      const handleChatSubmit = () => {
        if (!chatInput.trim()) return;
        setChatMessages([...chatMessages, { role: 'user', content: chatInput }]);
        
        setTimeout(() => {
          let response = '';
          const input = chatInput.toLowerCase();
          
          if (input.includes('ì¡¸ì—…') && (input.includes('ìš”ê±´') || input.includes('ì¡°ê±´'))) {
            response = 'ğŸ“‹ ì°¨ì˜ê³¼í•™ëŒ€í•™êµ ì¼ë°˜ëŒ€í•™ì› ì„ì‚¬ê³¼ì • ì¡¸ì—…ìš”ê±´\n\n' +
              '1ï¸âƒ£ ìˆ˜ë£Œì¡°ê±´\nâ€¢ ì •ê·œí•™ê¸°ë“±ë¡: 4í•™ê¸° ì´ìƒ\nâ€¢ ì´ìˆ˜í•™ì : 24í•™ì  ì´ìƒ\nâ€¢ í‰ì í‰ê· : 3.0(B0) ì´ìƒ\n\n' +
              '2ï¸âƒ£ í•™ìœ„ìˆ˜ì—¬ ìš”ê±´\nâ€¢ í•™ìœ„ë…¼ë¬¸ì œì¶œ ìê²©ì‹œí—˜ í•©ê²©\nâ€¢ í•™ìœ„ë…¼ë¬¸ì‹¬ì‚¬ í•©ê²© (ì¬ì ì—°í•œ ë‚´)\nâ€¢ SCIEê¸‰ í•™ìˆ ì§€ ë…¼ë¬¸ ê²Œì¬';
          } else if (input.includes('ìê²©ì‹œí—˜') || input.includes('ìê²© ì‹œí—˜')) {
            response = 'ğŸ“ í•™ìœ„ë…¼ë¬¸ì œì¶œ ìê²©ì‹œí—˜ ì•ˆë‚´\n\nâ€¢ ì‹ ì²­ì‹œê¸°: ë§¤ í•™ê¸° ì´ˆ\nâ€¢ 2026ë…„ 1í•™ê¸°: 4ì›” 14ì¼~16ì¼ ì‹ ì²­\nâ€¢ ì‹œí—˜ì¼: 4ì›” 25ì¼ ì˜ˆì •\n\nìê²©ì‹œí—˜ì— í•©ê²©í•´ì•¼ í•™ìœ„ë…¼ë¬¸ì„ ì œì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.';
          } else if (input.includes('ë…¼ë¬¸') && (input.includes('ê²Œì¬') || input.includes('scie'))) {
            response = 'ğŸ“° SCIEê¸‰ ë…¼ë¬¸ ê²Œì¬ ìš”ê±´\n\nì¡¸ì—…ì„ ìœ„í•´ í•™ìœ„ë…¼ë¬¸ì„ SCIEê¸‰ í•™ìˆ ì§€ì— ê²Œì¬í•´ì•¼ í•©ë‹ˆë‹¤.\n\nâ€¢ ê²Œì¬ ì‹œì : ë…¼ë¬¸ì‹¬ì‚¬ ì „ê¹Œì§€ ê²Œì¬ í™•ì • í•„ìš”\nâ€¢ ì €ì ì¡°ê±´: í•™ê³¼ë³„ë¡œ ìƒì´ (ì§€ë„êµìˆ˜ë‹˜ê»˜ í™•ì¸ í•„ìš”)';
          } else if (input.includes('ìˆ˜ê°•ì‹ ì²­') || input.includes('ìˆ˜ê°• ì‹ ì²­')) {
            response = 'ğŸ“… 2026í•™ë…„ë„ 1í•™ê¸° ìˆ˜ê°•ì‹ ì²­ ì•ˆë‚´\n\nâ€¢ ìˆ˜ê°•ì‹ ì²­: 2026.02.04~02.06\nâ€¢ ë“±ë¡ê¸ˆ ë‚©ë¶€: 02.23~02.27\nâ€¢ ê°œê°•: 03.03\nâ€¢ ìˆ˜ê°•ì‹ ì²­ ë³€ê²½: 03.10~03.12';
          } else if (input.includes('í•™ì ') && (input.includes('ë¶€ì¡±') || input.includes('ë”') || input.includes('ë‚¨ì€'))) {
            response = 'ğŸ“Š í˜„ì¬ ì´ìˆ˜ í˜„í™©\n\nâ€¢ ì´ìˆ˜ í•™ì : 12í•™ì  / 24í•™ì \nâ€¢ ë¶€ì¡± í•™ì : 12í•™ì \nâ€¢ ë“±ë¡ í•™ê¸°: 1í•™ê¸° / 4í•™ê¸°\n\në‚¨ì€ 3í•™ê¸° ë™ì•ˆ ë§¤ í•™ê¸° 4í•™ì ì”© ìˆ˜ê°•í•˜ì‹œë©´ ì¶©ë¶„í•©ë‹ˆë‹¤!';
          } else {
            response = 'í•´ë‹¹ ì§ˆë¬¸ì— ëŒ€í•´ ë” ìì„¸í•œ ì •ë³´ê°€ í•„ìš”í•©ë‹ˆë‹¤. ë‹¤ìŒê³¼ ê°™ì€ ì§ˆë¬¸ì„ í•´ë³´ì„¸ìš”:\n\nâ€¢ "ì¡¸ì—…ìš”ê±´ ì•Œë ¤ì¤˜"\nâ€¢ "ìê²©ì‹œí—˜ ì–¸ì œì•¼?"\nâ€¢ "SCIE ë…¼ë¬¸ ê²Œì¬ ì¡°ê±´"\nâ€¢ "ìˆ˜ê°•ì‹ ì²­ ì¼ì •"\nâ€¢ "í•™ì  ì–¼ë§ˆë‚˜ ë” ë“¤ì–´ì•¼ í•´?"';
          }
          
          setChatMessages(prev => [...prev, { role: 'assistant', content: response }]);
        }, 600);
        
        setChatInput('');
      };

      // Dashboard Tab
      const DashboardTab = () => (
        <div className="space-y-6">
          {/* Header Card */}
          <div className="relative overflow-hidden rounded-3xl bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-500 p-6 text-white shadow-2xl">
            <div className="absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -translate-y-32 translate-x-32" />
            <div className="absolute bottom-0 left-0 w-48 h-48 bg-white/10 rounded-full blur-2xl translate-y-24 -translate-x-24" />
            
            <div className="relative z-10">
              <div className="flex items-center gap-2 text-white/80 text-sm mb-1">
                <Icon name="graduation-cap" className="w-4 h-4" />
                <span>ì°¨ì˜ê³¼í•™ëŒ€í•™êµ ì¼ë°˜ëŒ€í•™ì›</span>
              </div>
              <h2 className="text-xl font-bold mb-1">{studentInfo.department} {studentInfo.degree}</h2>
              <p className="text-white/70 text-sm">{studentInfo.admissionYear} â€¢ {completedSemesters}í•™ê¸° ìˆ˜ë£Œ</p>
              
              <div className="flex items-center justify-between mt-6">
                <div className="flex items-center gap-4">
                  <div className="relative">
                    <ProgressRing progress={overallProgress} size={100} strokeWidth={8} color="#fff" />
                    <div className="absolute inset-0 flex items-center justify-center">
                      <span className="text-2xl font-bold">{overallProgress}%</span>
                    </div>
                  </div>
                  <div>
                    <p className="text-white/80 text-sm">ì¡¸ì—… ì§„í–‰ë¥ </p>
                    <p className="text-lg font-semibold">ìˆ˜ë£Œê¹Œì§€ 3í•™ê¸°</p>
                  </div>
                </div>
                
                <div className="text-right">
                  <div className="flex items-center gap-1 text-emerald-300">
                    <Icon name="trending-up" className="w-4 h-4" />
                    <span className="text-sm">ìˆœì¡°ë¡œìš´ ì¶œë°œ</span>
                  </div>
                  <p className="text-white/70 text-xs mt-1">ì˜ˆì •ëŒ€ë¡œë¼ë©´ 2027.08 ì¡¸ì—…</p>
                </div>
              </div>
            </div>
          </div>

          {/* Quick Stats */}
          <div className="grid grid-cols-3 gap-3">
            <div className="bg-white rounded-2xl p-4 shadow-sm border border-gray-100">
              <div className="flex items-center justify-between mb-2">
                <Icon name="book-open" className="w-5 h-5 text-indigo-500" />
                <span className="text-xs text-gray-400">ì´ìˆ˜í•™ì </span>
              </div>
              <p className="text-2xl font-bold text-gray-900">{totalCredits}<span className="text-sm text-gray-400">/24</span></p>
              <div className="mt-2 h-1.5 bg-gray-100 rounded-full overflow-hidden">
                <div className="h-full bg-indigo-500 rounded-full" style={{ width: `${(totalCredits/24)*100}%` }} />
              </div>
            </div>
            
            <div className="bg-white rounded-2xl p-4 shadow-sm border border-gray-100">
              <div className="flex items-center justify-between mb-2">
                <Icon name="award" className="w-5 h-5 text-amber-500" />
                <span className="text-xs text-gray-400">í‰ì í‰ê· </span>
              </div>
              <p className="text-2xl font-bold text-gray-900">{currentGPA}<span className="text-sm text-gray-400">/4.5</span></p>
              <div className="mt-2 flex items-center gap-1">
                <Icon name="check-circle" className="w-3.5 h-3.5 text-emerald-500" />
                <span className="text-xs text-emerald-600">ê¸°ì¤€ ì¶©ì¡±</span>
              </div>
            </div>
            
            <div className="bg-white rounded-2xl p-4 shadow-sm border border-gray-100">
              <div className="flex items-center justify-between mb-2">
                <Icon name="calendar" className="w-5 h-5 text-emerald-500" />
                <span className="text-xs text-gray-400">ë“±ë¡í•™ê¸°</span>
              </div>
              <p className="text-2xl font-bold text-gray-900">{completedSemesters}<span className="text-sm text-gray-400">/4</span></p>
              <p className="mt-2 text-xs text-gray-500">3í•™ê¸° ë‚¨ìŒ</p>
            </div>
          </div>

          {/* Requirements Checklist */}
          <div className="bg-white rounded-2xl p-5 shadow-sm border border-gray-100">
            <div className="flex items-center justify-between mb-4">
              <h3 className="font-bold text-gray-900">ì¡¸ì—…ìš”ê±´ ì²´í¬ë¦¬ìŠ¤íŠ¸</h3>
              <span className="text-xs text-gray-400">ì°¨ì˜ê³¼í•™ëŒ€í•™êµ ì¼ë°˜ëŒ€í•™ì› í•™ì¹™</span>
            </div>
            
            <div className="space-y-3">
              {Object.entries(graduationRequirements).map(([key, req]) => {
                const prog = progress[key];
                const isComplete = key === 'gpa' ? prog.current >= prog.required : prog.current >= prog.required;
                const percentage = Math.min((key === 'gpa' ? prog.current / prog.required : prog.current / prog.required) * 100, 100);
                
                return (
                  <div key={key} className="flex items-center gap-4 p-3 rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors">
                    <div className={`w-10 h-10 rounded-xl flex items-center justify-center ${isComplete ? 'bg-emerald-100' : 'bg-gray-200'}`}>
                      {isComplete ? (
                        <Icon name="check-circle" className="w-5 h-5 text-emerald-600" />
                      ) : (
                        <Icon name="circle" className="w-5 h-5 text-gray-400" />
                      )}
                    </div>
                    <div className="flex-1">
                      <div className="flex items-center justify-between">
                        <span className={`font-medium ${isComplete ? 'text-emerald-700' : 'text-gray-700'}`}>{req.name}</span>
                        <span className={`text-sm ${isComplete ? 'text-emerald-600' : 'text-gray-500'}`}>
                          {key === 'gpa' ? prog.current : prog.current}{req.unit} / {prog.required}{req.unit}
                        </span>
                      </div>
                      <div className="mt-1.5 h-1.5 bg-gray-200 rounded-full overflow-hidden">
                        <div className="h-full rounded-full transition-all duration-500" 
                          style={{ width: `${percentage}%`, backgroundColor: isComplete ? '#10B981' : req.color }} />
                      </div>
                    </div>
                  </div>
                );
              })}
            </div>
          </div>

          {/* Upcoming Schedule */}
          <div className="bg-white rounded-2xl p-5 shadow-sm border border-gray-100">
            <div className="flex items-center justify-between mb-4">
              <h3 className="font-bold text-gray-900">ë‹¤ê°€ì˜¤ëŠ” ì¼ì •</h3>
              <button onClick={() => setExpandedSchedule(!expandedSchedule)} className="text-indigo-600 text-sm font-medium flex items-center gap-1">
                {expandedSchedule ? 'ì ‘ê¸°' : 'ë”ë³´ê¸°'}
                <Icon name="chevron-down" className={`w-4 h-4 transition-transform ${expandedSchedule ? 'rotate-180' : ''}`} />
              </button>
            </div>
            
            <div className="space-y-2">
              {academicSchedule.filter(item => item.daysLeft >= -7).slice(0, expandedSchedule ? undefined : 4).map((item, idx) => (
                <div key={idx} className={`flex items-center gap-3 p-3 rounded-xl ${
                  item.type === 'critical' ? 'bg-red-50 border border-red-100' :
                  item.type === 'important' ? 'bg-amber-50 border border-amber-100' : 'bg-gray-50'
                }`}>
                  <div className={`w-12 h-12 rounded-xl flex flex-col items-center justify-center ${
                    item.type === 'critical' ? 'bg-red-500' : item.type === 'important' ? 'bg-amber-500' : 'bg-gray-300'
                  }`}>
                    <span className="text-white text-xs">{item.daysLeft < 0 ? 'ì§„í–‰ì¤‘' : 'D-'}</span>
                    <span className="text-white font-bold">{item.daysLeft < 0 ? '' : item.daysLeft}</span>
                  </div>
                  <div className="flex-1">
                    <p className="font-medium text-gray-900">{item.event}</p>
                    <p className="text-sm text-gray-500">{item.date}</p>
                  </div>
                </div>
              ))}
            </div>
          </div>
        </div>
      );

      // Courses Tab
      const CoursesTab = () => (
        <div className="space-y-6">
          <div className="bg-gradient-to-r from-indigo-500 to-purple-500 rounded-2xl p-5 text-white">
            <h3 className="font-bold text-lg mb-3">ì´ìˆ˜ í˜„í™© ìš”ì•½</h3>
            <div className="grid grid-cols-4 gap-3">
              {Object.entries(courseCategories).map(([key, cat]) => {
                const catCredits = courses.filter(c => c.category === key).reduce((s, c) => s + c.credits, 0);
                return (
                  <div key={key} className="text-center">
                    <div className="text-2xl font-bold">{catCredits}</div>
                    <div className="text-xs text-white/70">{cat.name}</div>
                  </div>
                );
              })}
            </div>
          </div>

          <div className="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
            <div className="bg-gradient-to-r from-indigo-50 to-purple-50 px-5 py-4 flex items-center justify-between border-b border-gray-100">
              <div>
                <h4 className="font-bold text-gray-900">2025í•™ë…„ë„ 2í•™ê¸°</h4>
                <p className="text-sm text-gray-500">{totalCredits}í•™ì  â€¢ í‰ì  {currentGPA}</p>
              </div>
              <span className="px-3 py-1 bg-indigo-100 text-indigo-700 text-xs font-medium rounded-full">í›„ê¸°ì…í•™ 1í•™ê¸°</span>
            </div>
            <div className="divide-y divide-gray-50">
              {courses.map(course => (
                <div key={course.id} className="px-5 py-4">
                  <div className="flex items-start gap-4">
                    <div className="w-1.5 h-16 rounded-full" style={{ backgroundColor: courseCategories[course.category]?.color }} />
                    <div className="flex-1">
                      <div className="flex items-center gap-2 mb-1">
                        <span className="text-xs text-gray-400">{course.code}</span>
                        <span className="text-xs px-1.5 py-0.5 rounded" style={{ backgroundColor: courseCategories[course.category]?.bgColor, color: courseCategories[course.category]?.color }}>
                          {courseCategories[course.category]?.name}
                        </span>
                      </div>
                      <p className="font-semibold text-gray-900">{course.name}</p>
                      <div className="flex items-center gap-3 mt-1 text-sm text-gray-500">
                        <span>{course.credits}í•™ì </span>
                        <span>â€¢</span>
                        <span>{course.professor} êµìˆ˜</span>
                      </div>
                      {course.location && (
                        <div className="flex items-center gap-1 mt-1 text-xs text-gray-400">
                          <Icon name="map-pin" className="w-3 h-3" />
                          <span>{course.location}</span>
                        </div>
                      )}
                    </div>
                    <div className="text-right">
                      <span className={`text-lg font-bold ${course.grade.startsWith('A') ? 'text-emerald-600' : 'text-blue-600'}`}>{course.grade}</span>
                      <p className="text-xs text-gray-400 mt-1">{course.day} {course.time}</p>
                    </div>
                  </div>
                </div>
              ))}
            </div>
          </div>

          <div className="bg-indigo-50 rounded-2xl p-5 border border-indigo-100">
            <div className="flex items-start gap-3">
              <Icon name="info" className="w-5 h-5 text-indigo-600" />
              <div>
                <h4 className="font-medium text-indigo-900">ë‚¨ì€ ì´ìˆ˜ ê³„íš</h4>
                <p className="text-sm text-indigo-700 mt-1">
                  ì¡¸ì—…ê¹Œì§€ <strong>12í•™ì </strong>ì´ ë” í•„ìš”í•©ë‹ˆë‹¤. 
                  2026-1í•™ê¸°ë¶€í„° ë§¤ í•™ê¸° 4í•™ì ì”© ìˆ˜ê°•í•˜ì‹œë©´ 4í•™ê¸° ë‚´ ìˆ˜ë£Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.
                </p>
              </div>
            </div>
          </div>
        </div>
      );

      // Recommend Tab
      const RecommendTab = () => (
        <div className="space-y-6">
          <div className="bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl p-6 text-white">
            <div className="flex items-center gap-3 mb-2">
              <div className="w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center">
                <Icon name="brain" className="w-5 h-5" />
              </div>
              <div>
                <h3 className="font-bold text-lg">AI ìˆ˜ê°• ì¶”ì²œ</h3>
                <p className="text-sm text-white/70">í˜„ì¬ 12í•™ì  ì´ìˆ˜ ê¸°ì¤€ ë¶„ì„</p>
              </div>
            </div>
            <div className="mt-4 p-3 bg-white/10 rounded-xl">
              <p className="text-sm">ğŸ’¡ 2026-1í•™ê¸°ì— <strong>9~12í•™ì </strong> ìˆ˜ê°•ì„ ê¶Œì¥ë“œë¦½ë‹ˆë‹¤.</p>
            </div>
          </div>

          <div className="space-y-3">
            {recommendedCourses.map((course, idx) => (
              <div key={idx} className="bg-white rounded-2xl p-5 shadow-sm border border-gray-100">
                <div className="flex items-start gap-4">
                  <div className={`w-10 h-10 rounded-xl flex items-center justify-center ${course.priority === 'high' ? 'bg-red-100' : 'bg-amber-100'}`}>
                    <Icon name={course.priority === 'high' ? 'zap' : 'lightbulb'} className={`w-5 h-5 ${course.priority === 'high' ? 'text-red-600' : 'text-amber-600'}`} />
                  </div>
                  <div className="flex-1">
                    <div className="flex items-center gap-2 mb-1">
                      <span className="text-xs text-gray-400">{course.code}</span>
                      <span className="text-xs px-1.5 py-0.5 rounded" style={{ backgroundColor: courseCategories[course.category]?.bgColor, color: courseCategories[course.category]?.color }}>
                        {courseCategories[course.category]?.name}
                      </span>
                      {course.priority === 'high' && <span className="text-xs px-1.5 py-0.5 rounded bg-red-100 text-red-600">í•„ìˆ˜ ê¶Œì¥</span>}
                    </div>
                    <h4 className="font-bold text-gray-900">{course.name}</h4>
                    <p className="text-sm text-gray-500 mt-1">{course.credits}í•™ì </p>
                    <p className="text-sm text-gray-600 mt-2 bg-gray-50 rounded-lg p-3">ğŸ’¡ {course.reason}</p>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>
      );

      // Chatbot
      const Chatbot = () => (
        <div className="fixed bottom-20 right-4 left-4 md:left-auto md:w-96 bg-white rounded-2xl shadow-2xl border border-gray-200 overflow-hidden z-50 flex flex-col" style={{ maxHeight: '70vh' }}>
          <div className="bg-gradient-to-r from-indigo-600 to-purple-600 p-4 flex items-center justify-between">
            <div className="flex items-center gap-3">
              <div className="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center">
                <Icon name="message-circle" className="w-5 h-5 text-white" />
              </div>
              <div>
                <h3 className="font-semibold text-white">AI ì–´ë“œë°”ì´ì €</h3>
                <p className="text-xs text-white/70">í•™ì¹™ & ì¡¸ì—…ìš”ê±´ ìƒë‹´</p>
              </div>
            </div>
            <button onClick={() => setShowChatbot(false)} className="text-white/80 hover:text-white">
              <Icon name="x" className="w-5 h-5" />
            </button>
          </div>
          
          <div className="flex-1 overflow-y-auto p-4 space-y-3" style={{ minHeight: '200px', maxHeight: '300px' }}>
            {chatMessages.map((msg, idx) => (
              <div key={idx} className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                <div className={`max-w-[85%] p-3 rounded-2xl ${
                  msg.role === 'user' ? 'bg-indigo-600 text-white rounded-br-sm' : 'bg-gray-100 text-gray-800 rounded-bl-sm'
                }`}>
                  <p className="text-sm whitespace-pre-line">{msg.content}</p>
                </div>
              </div>
            ))}
          </div>
          
          <div className="p-3 border-t bg-gray-50">
            <div className="flex gap-2">
              <input type="text" value={chatInput} onChange={(e) => setChatInput(e.target.value)}
                onKeyPress={(e) => e.key === 'Enter' && handleChatSubmit()}
                placeholder="ê¶ê¸ˆí•œ ì ì„ ë¬¼ì–´ë³´ì„¸ìš”..."
                className="flex-1 px-4 py-2.5 bg-white border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500" />
              <button onClick={handleChatSubmit} className="px-4 py-2.5 bg-indigo-600 rounded-xl text-white hover:bg-indigo-700">
                <Icon name="chevron-right" className="w-5 h-5" />
              </button>
            </div>
            <div className="flex gap-2 mt-2 overflow-x-auto pb-1">
              {['ì¡¸ì—…ìš”ê±´', 'ìê²©ì‹œí—˜', 'ë‚¨ì€ í•™ì ', 'ìˆ˜ê°•ì‹ ì²­'].map(q => (
                <button key={q} onClick={() => setChatInput(q)}
                  className="whitespace-nowrap text-xs px-3 py-1.5 bg-white border border-gray-200 rounded-full hover:bg-gray-100">
                  {q}
                </button>
              ))}
            </div>
          </div>
        </div>
      );

      const renderTabContent = () => {
        switch (activeTab) {
          case 'dashboard': return <DashboardTab />;
          case 'courses': return <CoursesTab />;
          case 'recommend': return <RecommendTab />;
          default: return <DashboardTab />;
        }
      };

      return (
        <div className="min-h-screen bg-gray-50">
          {/* Header */}
          <header className="bg-white/80 backdrop-blur-lg border-b border-gray-100 px-4 py-3 sticky top-0 z-40">
            <div className="flex items-center justify-between max-w-lg mx-auto">
              <div className="flex items-center gap-2">
                <div className="w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center">
                  <Icon name="graduation-cap" className="w-5 h-5 text-white" />
                </div>
                <div>
                  <span className="text-lg font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent">GradMate</span>
                  <span className="text-xs text-gray-400 block" style={{ marginTop: '-4px' }}>CHA University</span>
                </div>
              </div>
              <div className="flex items-center gap-2">
                <button className="w-9 h-9 rounded-xl bg-gray-100 flex items-center justify-center hover:bg-gray-200">
                  <Icon name="bell" className="w-5 h-5 text-gray-600" />
                </button>
                <div className="w-9 h-9 rounded-xl bg-indigo-100 flex items-center justify-center">
                  <span className="text-sm font-bold text-indigo-600">ì„±</span>
                </div>
              </div>
            </div>
          </header>

          {/* Main */}
          <main className="max-w-lg mx-auto px-4 py-6 pb-28">
            {renderTabContent()}
          </main>

          {/* Chat Button */}
          {!showChatbot && (
            <button onClick={() => setShowChatbot(true)}
              className="fixed bottom-24 right-4 w-14 h-14 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-2xl shadow-lg flex items-center justify-center text-white hover:shadow-xl z-40">
              <Icon name="message-circle" className="w-6 h-6" />
            </button>
          )}

          {showChatbot && <Chatbot />}

          {/* Bottom Nav */}
          <nav className="fixed bottom-0 left-0 right-0 bg-white/80 backdrop-blur-lg border-t border-gray-100 z-40">
            <div className="max-w-lg mx-auto flex">
              {[
                { id: 'dashboard', icon: 'activity', label: 'ëŒ€ì‹œë³´ë“œ' },
                { id: 'courses', icon: 'book-open', label: 'ì´ìˆ˜í˜„í™©' },
                { id: 'recommend', icon: 'sparkles', label: 'AIì¶”ì²œ' },
              ].map(tab => (
                <button key={tab.id} onClick={() => setActiveTab(tab.id)}
                  className={`flex-1 py-4 flex flex-col items-center gap-1 transition-colors ${
                    activeTab === tab.id ? 'text-indigo-600' : 'text-gray-400 hover:text-gray-600'
                  }`}>
                  <Icon name={tab.icon} className={`w-5 h-5 ${activeTab === tab.id ? 'stroke-2' : ''}`} />
                  <span className="text-xs font-medium">{tab.label}</span>
                </button>
              ))}
            </div>
          </nav>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<ChaGradMate />);
  </script>
</body>
</html>
