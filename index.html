<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GradMate - ì°¨ì˜ê³¼í•™ëŒ€í•™êµ AIí—¬ìŠ¤ì¼€ì–´ìœµí•©í•™ê³¼</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Noto Sans KR', sans-serif; }
        body { background: #f8fafc; }
        .glass { background: rgba(255,255,255,0.8); backdrop-filter: blur(10px); }
        .gradient-header { background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #ec4899 100%); }
        .progress-ring { transform: rotate(-90deg); }
        .chat-bubble { animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .tab-active { color: #6366f1; border-bottom: 2px solid #6366f1; }
        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
    </style>
</head>
<body class="min-h-screen pb-20">
    <!-- Header -->
    <header class="glass border-b border-gray-100 px-4 py-3 sticky top-0 z-40">
        <div class="flex items-center justify-between max-w-lg mx-auto">
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 rounded-lg gradient-header flex items-center justify-center">
                    <i data-lucide="graduation-cap" class="w-5 h-5 text-white"></i>
                </div>
                <div>
                    <span class="text-lg font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent">GradMate</span>
                    <span class="text-[10px] text-gray-400 block -mt-1">CHA University</span>
                </div>
            </div>
            <div class="flex items-center gap-2">
                <button class="w-9 h-9 rounded-xl bg-gray-100 flex items-center justify-center hover:bg-gray-200">
                    <i data-lucide="bell" class="w-5 h-5 text-gray-600"></i>
                </button>
                <div class="w-9 h-9 rounded-xl bg-indigo-100 flex items-center justify-center">
                    <span class="text-sm font-bold text-indigo-600">ì„±</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-lg mx-auto px-4 py-6" id="main-content">
        <!-- Dashboard Content (Default) -->
    </main>

    <!-- Floating Chat Button -->
    <button id="chat-toggle" class="fixed bottom-24 right-4 w-14 h-14 gradient-header rounded-2xl shadow-lg flex items-center justify-center text-white hover:shadow-xl transition-shadow z-40">
        <i data-lucide="message-circle" class="w-6 h-6"></i>
    </button>

    <!-- Chatbot Modal -->
    <div id="chatbot" class="fixed bottom-20 right-4 left-4 md:left-auto md:w-96 bg-white rounded-2xl shadow-2xl border border-gray-200 overflow-hidden z-50 hidden flex-col" style="max-height: 70vh;">
        <div class="gradient-header p-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center">
                    <i data-lucide="message-circle" class="w-5 h-5 text-white"></i>
                </div>
                <div>
                    <h3 class="font-semibold text-white">AI ì–´ë“œë°”ì´ì €</h3>
                    <p class="text-xs text-white/70">í•™ì¹™ & ì¡¸ì—…ìš”ê±´ ìƒë‹´</p>
                </div>
            </div>
            <button id="chat-close" class="text-white/80 hover:text-white">
                <i data-lucide="x" class="w-5 h-5"></i>
            </button>
        </div>
        <div id="chat-messages" class="flex-1 overflow-y-auto p-4 space-y-3" style="min-height: 200px; max-height: 300px;"></div>
        <div class="p-3 border-t bg-gray-50">
            <div class="flex gap-2">
                <input type="text" id="chat-input" placeholder="ê¶ê¸ˆí•œ ì ì„ ë¬¼ì–´ë³´ì„¸ìš”..." class="flex-1 px-4 py-2.5 bg-white border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500">
                <button id="chat-send" class="px-4 py-2.5 bg-indigo-600 rounded-xl text-white hover:bg-indigo-700">
                    <i data-lucide="chevron-right" class="w-5 h-5"></i>
                </button>
            </div>
            <div class="flex gap-2 mt-2 overflow-x-auto pb-1">
                <button class="quick-q whitespace-nowrap text-xs px-3 py-1.5 bg-white border border-gray-200 rounded-full hover:bg-gray-100">ì¡¸ì—…ìš”ê±´</button>
                <button class="quick-q whitespace-nowrap text-xs px-3 py-1.5 bg-white border border-gray-200 rounded-full hover:bg-gray-100">ìê²©ì‹œí—˜</button>
                <button class="quick-q whitespace-nowrap text-xs px-3 py-1.5 bg-white border border-gray-200 rounded-full hover:bg-gray-100">í•™ìˆ ë°œí‘œ</button>
                <button class="quick-q whitespace-nowrap text-xs px-3 py-1.5 bg-white border border-gray-200 rounded-full hover:bg-gray-100">ë‚¨ì€ í•™ì </button>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="fixed bottom-0 left-0 right-0 glass border-t border-gray-100 z-40">
        <div class="max-w-lg mx-auto flex">
            <button class="nav-btn flex-1 py-4 flex flex-col items-center gap-1 text-indigo-600 tab-active" data-tab="dashboard">
                <i data-lucide="activity" class="w-5 h-5"></i>
                <span class="text-xs font-medium">ëŒ€ì‹œë³´ë“œ</span>
            </button>
            <button class="nav-btn flex-1 py-4 flex flex-col items-center gap-1 text-gray-400 hover:text-gray-600" data-tab="courses">
                <i data-lucide="book-open" class="w-5 h-5"></i>
                <span class="text-xs font-medium">ì´ìˆ˜í˜„í™©</span>
            </button>
            <button class="nav-btn flex-1 py-4 flex flex-col items-center gap-1 text-gray-400 hover:text-gray-600" data-tab="recommend">
                <i data-lucide="sparkles" class="w-5 h-5"></i>
                <span class="text-xs font-medium">AIì¶”ì²œ</span>
            </button>
        </div>
    </nav>

    <script>
        // ============================================
        // ì°¨ì˜ê³¼í•™ëŒ€í•™êµ ì¼ë°˜ëŒ€í•™ì› AIí—¬ìŠ¤ì¼€ì–´ìœµí•©í•™ê³¼
        // 2025í•™ë²ˆ í›„ê¸° ì„ì‚¬ê³¼ì • ì¡¸ì—…ìš”ê±´ ì²´ì»¤
        // 2026í•™ë…„ë„ 1í•™ê¸° ìˆ˜ê°•í¸ëŒ ê¸°ë°˜ ì‹¤ì œ ë°ì´í„°
        // ============================================

        // í•™ìƒ ì •ë³´
        const studentInfo = {
            name: 'ì„±ë´‰ì£¼',
            studentId: '20259461',
            department: 'AIí—¬ìŠ¤ì¼€ì–´ìœµí•©í•™ê³¼',
            admissionYear: '2025í•™ë…„ë„ í›„ê¸°',
            currentSemester: 1,
            degree: 'ì„ì‚¬ê³¼ì •'
        };

        // ì‹¤ì œ ì¡¸ì—…ìš”ê±´ (ìˆ˜ê°•í¸ëŒ 26-27í˜ì´ì§€ ê¸°ì¤€)
        const graduationRequirements = {
            coursework: { name: 'ì´ìˆ˜í•™ì ', required: 24, unit: 'í•™ì ', color: '#6366F1' },
            semesters: { name: 'ì •ê·œí•™ê¸°ë“±ë¡', required: 4, unit: 'í•™ê¸°', color: '#10B981' },
            gpa: { name: 'í‰ì í‰ê· ', required: 3.0, unit: '/4.5', color: '#F59E0B' },
            qualExam: { name: 'ìê²©ì‹œí—˜', required: 1, unit: 'í•©ê²©', color: '#8B5CF6' },
            presentation: { name: 'í•™ìˆ ë°œí‘œ', required: 1, unit: 'í¸', color: '#14B8A6' },
            thesis: { name: 'í•™ìœ„ë…¼ë¬¸', required: 1, unit: 'í¸', color: '#EC4899' },
        };

        // êµê³¼ëª© ì¹´í…Œê³ ë¦¬
        const courseCategories = {
            common: { name: 'ê³µí†µí•„ìˆ˜', color: '#F59E0B', bgColor: '#FFFBEB' },
            required: { name: 'ì „ê³µí•„ìˆ˜', color: '#6366F1', bgColor: '#EEF2FF' },
            elective: { name: 'ì „ê³µì„ íƒ', color: '#10B981', bgColor: '#ECFDF5' },
            research: { name: 'ì—°êµ¬/ì¸í„´ì‹­', color: '#EC4899', bgColor: '#FDF2F8' },
        };

        // ì‹¤ì œ ì´ìˆ˜ ê³¼ëª© (2025í•™ë…„ë„ 2í•™ê¸°)
        const courses = [
            { id: 1, code: 'AIH601', name: 'AIìœµí•©ì—°êµ¬ë°©ë²•ë¡ ', credits: 3, category: 'common', semester: '2025-2', grade: 'A+', professor: 'ë°•ëŒ€ê·¼', location: 'ë¯¸ë˜ê´€316', day: 'ëª©', time: '09:00' },
            { id: 2, code: 'AIH602', name: 'AIì‘ìš©ì‚¬ë¡€ì—°êµ¬â… ', credits: 3, category: 'elective', semester: '2025-2', grade: 'A0', professor: 'ì •ê²½ì¸', day: 'ê¸ˆ', time: '10:00' },
            { id: 3, code: 'AIH603', name: 'í¨í…Œí¬ë””ì§€í„¸í—¬ìŠ¤ì¼€ì–´ ì¸í„´ì‹­', credits: 3, category: 'research', semester: '2025-2', grade: 'A+', professor: 'í•œí˜„ìš±', day: 'ì›”', time: '12:00' },
            { id: 4, code: 'AIH604', name: 'ì˜ë£Œì¸ê³µì§€ëŠ¥', credits: 3, category: 'required', semester: '2025-2', grade: 'A0', professor: 'ì¡°ë°±í™˜', location: 'ì°¨ë°”ì´ì˜¤ì»´í”Œë ‰ìŠ¤B205', day: 'ìˆ˜', time: '13:00' },
        ];

        // í•™ì‚¬ì¼ì • (ìˆ˜ê°•í¸ëŒ 2-4í˜ì´ì§€ ê¸°ì¤€)
        const academicSchedule = [
            { date: '2026-02-04', event: '2026í•™ë…„ë„ 1í•™ê¸° ìˆ˜ê°•ì‹ ì²­', type: 'critical', daysLeft: -2 },
            { date: '2026-02-11', event: 'ë™ê³„ í•™ìœ„ìˆ˜ì—¬ì‹', type: 'normal', daysLeft: 5 },
            { date: '2026-02-23', event: '1í•™ê¸° ë“±ë¡ê¸ˆ ë‚©ë¶€ ì‹œì‘', type: 'important', daysLeft: 17 },
            { date: '2026-02-27', event: '1í•™ê¸° ë“±ë¡ê¸ˆ ë‚©ë¶€ ë§ˆê°', type: 'critical', daysLeft: 21 },
            { date: '2026-03-03', event: '1í•™ê¸° ê°œê°•', type: 'important', daysLeft: 25 },
            { date: '2026-03-06', event: 'í•™ìœ„ë…¼ë¬¸ì œì¶œ ìê²©ì‹œí—˜ ì‹ ì²­', type: 'important', daysLeft: 28 },
            { date: '2026-03-10', event: 'ìˆ˜ê°•ì‹ ì²­ ë³€ê²½ê¸°ê°„', type: 'normal', daysLeft: 32 },
            { date: '2026-03-13', event: 'ì‹ ì…ìƒ ì˜¤ë¦¬ì—”í…Œì´ì…˜', type: 'normal', daysLeft: 35 },
            { date: '2026-03-16', event: 'ì§€ë„êµìˆ˜ ë°°ì • ì‹ ì²­ (AIí—¬ìŠ¤ì¼€ì–´ìœµí•©)', type: 'important', daysLeft: 38 },
            { date: '2026-03-27', event: 'í•™ìœ„ë…¼ë¬¸ì œì¶œ ìê²©ì‹œí—˜', type: 'critical', daysLeft: 49 },
            { date: '2026-04-17', event: 'ìê²©ì‹œí—˜ í•©ê²©ì ë°œí‘œ', type: 'normal', daysLeft: 70 },
        ];

        // AI ì¶”ì²œ ê³¼ëª©
        const recommendedCourses = [
            { code: 'AIH701', name: 'AIì‘ìš©ì‚¬ë¡€ì—°êµ¬â…¡', credits: 3, category: 'elective', reason: 'AIì‘ìš©ì‚¬ë¡€ì—°êµ¬â… ì˜ ì—°ì† ê³¼ëª©ì…ë‹ˆë‹¤. ì‹¬í™” í•™ìŠµì— ë„ì›€ë©ë‹ˆë‹¤.', priority: 'high' },
            { code: 'AIH702', name: 'í—¬ìŠ¤ì¼€ì–´ë°ì´í„°ë¶„ì„', credits: 3, category: 'required', reason: 'ì „ê³µí•„ìˆ˜ ê³¼ëª©ìœ¼ë¡œ, ì¡¸ì—…ìš”ê±´ ì¶©ì¡±ì„ ìœ„í•´ ìˆ˜ê°•ì„ ê¶Œì¥ë“œë¦½ë‹ˆë‹¤.', priority: 'high' },
            { code: 'AIH703', name: 'ë””ì§€í„¸ì¹˜ë£Œì œê°œë¡ ', credits: 3, category: 'elective', reason: 'í¨í…Œí¬ ì¸í„´ì‹­ê³¼ ì—°ê³„ë˜ëŠ” ë””ì§€í„¸í—¬ìŠ¤ì¼€ì–´ ì‹¬í™” ê³¼ëª©ì…ë‹ˆë‹¤.', priority: 'medium' },
            { code: 'AIH901', name: 'ì—°êµ¬ì§€ë„â… ', credits: 3, category: 'research', reason: 'ìê²©ì‹œí—˜ í•©ê²© í›„ ì—°êµ¬ê³„íšì„œ ì œì¶œí•˜ë©´ ìˆ˜ê°• ê°€ëŠ¥í•©ë‹ˆë‹¤.', priority: 'medium' },
        ];

        // ê³„ì‚°
        const totalCredits = 12;
        const completedSemesters = 1;
        const currentGPA = '3.87';
        
        const progress = {
            coursework: { current: totalCredits, required: 24 },
            semesters: { current: completedSemesters, required: 4 },
            gpa: { current: parseFloat(currentGPA), required: 3.0 },
            qualExam: { current: 0, required: 1 },
            presentation: { current: 0, required: 1 },
            thesis: { current: 0, required: 1 },
        };

        const overallProgress = Math.round(
            ((Math.min(progress.coursework.current / progress.coursework.required, 1) * 25) +
            (Math.min(progress.semesters.current / progress.semesters.required, 1) * 20) +
            (progress.gpa.current >= progress.gpa.required ? 15 : 0) +
            (progress.qualExam.current * 15) +
            (progress.presentation.current * 10) +
            (progress.thesis.current * 15))
        );

        // SVG Progress Ring
        function createProgressRing(progress, size = 100, strokeWidth = 8) {
            const radius = (size - strokeWidth) / 2;
            const circumference = radius * 2 * Math.PI;
            const offset = circumference - (progress / 100) * circumference;
            return `
                <svg width="${size}" height="${size}" class="progress-ring">
                    <circle cx="${size/2}" cy="${size/2}" r="${radius}" fill="none" stroke="#E5E7EB" stroke-width="${strokeWidth}"/>
                    <circle cx="${size/2}" cy="${size/2}" r="${radius}" fill="none" stroke="white" stroke-width="${strokeWidth}" 
                        stroke-dasharray="${circumference}" stroke-dashoffset="${offset}" stroke-linecap="round" style="transition: stroke-dashoffset 1s ease-out;"/>
                </svg>
            `;
        }

        // Dashboard Tab
        function renderDashboard() {
            return `
                <div class="space-y-6">
                    <!-- Header Card -->
                    <div class="relative overflow-hidden rounded-3xl gradient-header p-6 text-white shadow-2xl">
                        <div class="absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -translate-y-32 translate-x-32"></div>
                        <div class="absolute bottom-0 left-0 w-48 h-48 bg-white/10 rounded-full blur-2xl translate-y-24 -translate-x-24"></div>
                        
                        <div class="relative z-10">
                            <div class="flex items-center gap-2 text-white/80 text-sm mb-1">
                                <i data-lucide="graduation-cap" class="w-4 h-4"></i>
                                <span>ì°¨ì˜ê³¼í•™ëŒ€í•™êµ ì¼ë°˜ëŒ€í•™ì›</span>
                            </div>
                            <h2 class="text-xl font-bold mb-1">${studentInfo.department} ${studentInfo.degree}</h2>
                            <p class="text-white/70 text-sm">${studentInfo.admissionYear} â€¢ ${completedSemesters}í•™ê¸° ìˆ˜ë£Œ</p>
                            
                            <div class="flex items-center justify-between mt-6">
                                <div class="flex items-center gap-4">
                                    <div class="relative">
                                        ${createProgressRing(overallProgress)}
                                        <div class="absolute inset-0 flex items-center justify-center">
                                            <span class="text-2xl font-bold">${overallProgress}%</span>
                                        </div>
                                    </div>
                                    <div>
                                        <p class="text-white/80 text-sm">ì¡¸ì—… ì§„í–‰ë¥ </p>
                                        <p class="text-lg font-semibold">ìˆ˜ë£Œê¹Œì§€ 3í•™ê¸°</p>
                                    </div>
                                </div>
                                
                                <div class="text-right">
                                    <div class="flex items-center gap-1 text-emerald-300">
                                        <i data-lucide="trending-up" class="w-4 h-4"></i>
                                        <span class="text-sm">ìˆœì¡°ë¡œìš´ ì¶œë°œ</span>
                                    </div>
                                    <p class="text-white/70 text-xs mt-1">ì˜ˆì •: 2027.08 ì¡¸ì—…</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Stats -->
                    <div class="grid grid-cols-3 gap-3">
                        <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100">
                            <div class="flex items-center justify-between mb-2">
                                <i data-lucide="book-open" class="w-5 h-5 text-indigo-500"></i>
                                <span class="text-xs text-gray-400">ì´ìˆ˜í•™ì </span>
                            </div>
                            <p class="text-2xl font-bold text-gray-900">${totalCredits}<span class="text-sm text-gray-400">/24</span></p>
                            <div class="mt-2 h-1.5 bg-gray-100 rounded-full overflow-hidden">
                                <div class="h-full bg-indigo-500 rounded-full" style="width: ${(totalCredits/24)*100}%"></div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100">
                            <div class="flex items-center justify-between mb-2">
                                <i data-lucide="award" class="w-5 h-5 text-amber-500"></i>
                                <span class="text-xs text-gray-400">í‰ì í‰ê· </span>
                            </div>
                            <p class="text-2xl font-bold text-gray-900">${currentGPA}<span class="text-sm text-gray-400">/4.5</span></p>
                            <div class="mt-2 flex items-center gap-1">
                                <i data-lucide="check-circle" class="w-3.5 h-3.5 text-emerald-500"></i>
                                <span class="text-xs text-emerald-600">ê¸°ì¤€ ì¶©ì¡±</span>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100">
                            <div class="flex items-center justify-between mb-2">
                                <i data-lucide="calendar" class="w-5 h-5 text-emerald-500"></i>
                                <span class="text-xs text-gray-400">ë“±ë¡í•™ê¸°</span>
                            </div>
                            <p class="text-2xl font-bold text-gray-900">${completedSemesters}<span class="text-sm text-gray-400">/4</span></p>
                            <p class="mt-2 text-xs text-gray-500">3í•™ê¸° ë‚¨ìŒ</p>
                        </div>
                    </div>

                    <!-- Requirements Checklist -->
                    <div class="bg-white rounded-2xl p-5 shadow-sm border border-gray-100">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="font-bold text-gray-900">ì¡¸ì—…ìš”ê±´ ì²´í¬ë¦¬ìŠ¤íŠ¸</h3>
                            <span class="text-xs text-gray-400">2026-1í•™ê¸° ìˆ˜ê°•í¸ëŒ ê¸°ì¤€</span>
                        </div>
                        
                        <div class="space-y-3">
                            ${Object.entries(graduationRequirements).map(([key, req]) => {
                                const prog = progress[key];
                                const isComplete = key === 'gpa' ? prog.current >= prog.required : prog.current >= prog.required;
                                const percentage = key === 'gpa' ? (isComplete ? 100 : (prog.current / prog.required) * 100) : Math.min((prog.current / prog.required) * 100, 100);
                                
                                return `
                                    <div class="flex items-center gap-4 p-3 rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors">
                                        <div class="w-10 h-10 rounded-xl flex items-center justify-center ${isComplete ? 'bg-emerald-100' : 'bg-gray-200'}">
                                            ${isComplete ? '<i data-lucide="check-circle" class="w-5 h-5 text-emerald-600"></i>' : '<i data-lucide="circle" class="w-5 h-5 text-gray-400"></i>'}
                                        </div>
                                        <div class="flex-1">
                                            <div class="flex items-center justify-between">
                                                <span class="font-medium ${isComplete ? 'text-emerald-700' : 'text-gray-700'}">${req.name}</span>
                                                <span class="text-sm ${isComplete ? 'text-emerald-600' : 'text-gray-500'}">
                                                    ${key === 'gpa' ? prog.current : prog.current}${req.unit} / ${prog.required}${req.unit}
                                                </span>
                                            </div>
                                            <div class="mt-1.5 h-1.5 bg-gray-200 rounded-full overflow-hidden">
                                                <div class="h-full rounded-full transition-all duration-500" style="width: ${percentage}%; background-color: ${isComplete ? '#10B981' : req.color}"></div>
                                            </div>
                                        </div>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    </div>

                    <!-- Upcoming Schedule -->
                    <div class="bg-white rounded-2xl p-5 shadow-sm border border-gray-100">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="font-bold text-gray-900">ë‹¤ê°€ì˜¤ëŠ” ì¼ì •</h3>
                            <button id="schedule-toggle" class="text-indigo-600 text-sm font-medium flex items-center gap-1">
                                ë”ë³´ê¸° <i data-lucide="chevron-down" class="w-4 h-4"></i>
                            </button>
                        </div>
                        
                        <div id="schedule-list" class="space-y-2">
                            ${academicSchedule.filter(item => item.daysLeft >= -7).slice(0, 4).map(item => `
                                <div class="flex items-center gap-3 p-3 rounded-xl ${
                                    item.type === 'critical' ? 'bg-red-50 border border-red-100' :
                                    item.type === 'important' ? 'bg-amber-50 border border-amber-100' : 'bg-gray-50'
                                }">
                                    <div class="w-12 h-12 rounded-xl flex flex-col items-center justify-center ${
                                        item.type === 'critical' ? 'bg-red-500' :
                                        item.type === 'important' ? 'bg-amber-500' : 'bg-gray-300'
                                    }">
                                        <span class="text-white text-xs">${item.daysLeft < 0 ? 'ì§„í–‰ì¤‘' : 'D-'}</span>
                                        <span class="text-white font-bold">${item.daysLeft < 0 ? '' : item.daysLeft}</span>
                                    </div>
                                    <div class="flex-1">
                                        <p class="font-medium text-gray-900">${item.event}</p>
                                        <p class="text-sm text-gray-500">${item.date}</p>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
        }

        // Courses Tab
        function renderCourses() {
            return `
                <div class="space-y-6">
                    <!-- Summary -->
                    <div class="bg-gradient-to-r from-indigo-500 to-purple-500 rounded-2xl p-5 text-white">
                        <h3 class="font-bold text-lg mb-3">ì´ìˆ˜ í˜„í™© ìš”ì•½</h3>
                        <div class="grid grid-cols-4 gap-3">
                            ${Object.entries(courseCategories).map(([key, cat]) => {
                                const catCredits = courses.filter(c => c.category === key).reduce((s, c) => s + c.credits, 0);
                                return `<div class="text-center"><div class="text-2xl font-bold">${catCredits}</div><div class="text-xs text-white/70">${cat.name}</div></div>`;
                            }).join('')}
                        </div>
                    </div>

                    <!-- Course List -->
                    <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
                        <div class="bg-gradient-to-r from-indigo-50 to-purple-50 px-5 py-4 flex items-center justify-between border-b border-gray-100">
                            <div>
                                <h4 class="font-bold text-gray-900">2025í•™ë…„ë„ 2í•™ê¸°</h4>
                                <p class="text-sm text-gray-500">${totalCredits}í•™ì  â€¢ í‰ì  ${currentGPA}</p>
                            </div>
                            <span class="px-3 py-1 bg-indigo-100 text-indigo-700 text-xs font-medium rounded-full">í›„ê¸°ì…í•™ 1í•™ê¸°</span>
                        </div>
                        <div class="divide-y divide-gray-50">
                            ${courses.map(course => `
                                <div class="px-5 py-4">
                                    <div class="flex items-start gap-4">
                                        <div class="w-1.5 min-h-[60px] rounded-full" style="background-color: ${courseCategories[course.category]?.color}"></div>
                                        <div class="flex-1">
                                            <div class="flex items-center gap-2 mb-1">
                                                <span class="text-xs text-gray-400">${course.code}</span>
                                                <span class="text-xs px-1.5 py-0.5 rounded" style="background-color: ${courseCategories[course.category]?.bgColor}; color: ${courseCategories[course.category]?.color}">${courseCategories[course.category]?.name}</span>
                                            </div>
                                            <p class="font-semibold text-gray-900">${course.name}</p>
                                            <div class="flex items-center gap-3 mt-1 text-sm text-gray-500">
                                                <span>${course.credits}í•™ì </span>
                                                <span>â€¢</span>
                                                <span>${course.professor} êµìˆ˜</span>
                                            </div>
                                            ${course.location ? `<div class="flex items-center gap-1 mt-1 text-xs text-gray-400"><i data-lucide="map-pin" class="w-3 h-3"></i><span>${course.location}</span></div>` : ''}
                                        </div>
                                        <div class="text-right">
                                            <span class="text-lg font-bold ${course.grade.startsWith('A') ? 'text-emerald-600' : 'text-blue-600'}">${course.grade}</span>
                                            <p class="text-xs text-gray-400 mt-1">${course.day} ${course.time}</p>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <!-- Info Box -->
                    <div class="bg-indigo-50 rounded-2xl p-5 border border-indigo-100">
                        <div class="flex items-start gap-3">
                            <i data-lucide="info" class="w-5 h-5 text-indigo-600 mt-0.5"></i>
                            <div>
                                <h4 class="font-medium text-indigo-900">ë‚¨ì€ ì´ìˆ˜ ê³„íš</h4>
                                <p class="text-sm text-indigo-700 mt-1">
                                    ì¡¸ì—…ê¹Œì§€ <strong>12í•™ì </strong>ì´ ë” í•„ìš”í•©ë‹ˆë‹¤. 
                                    2026-1í•™ê¸°ë¶€í„° ë§¤ í•™ê¸° 4í•™ì (ë˜ëŠ” 6í•™ì )ì”© ìˆ˜ê°•í•˜ì‹œë©´ 4í•™ê¸° ë‚´ ìˆ˜ë£Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Recommend Tab
        function renderRecommend() {
            return `
                <div class="space-y-6">
                    <div class="bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl p-6 text-white">
                        <div class="flex items-center gap-3 mb-2">
                            <div class="w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center">
                                <i data-lucide="brain" class="w-5 h-5"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-lg">AI ìˆ˜ê°• ì¶”ì²œ</h3>
                                <p class="text-sm text-white/70">í˜„ì¬ 12í•™ì  ì´ìˆ˜ ê¸°ì¤€ ë¶„ì„</p>
                            </div>
                        </div>
                        <div class="mt-4 p-3 bg-white/10 rounded-xl">
                            <p class="text-sm">ğŸ’¡ 2026-1í•™ê¸°ì— <strong>9~12í•™ì </strong> ìˆ˜ê°•ì„ ê¶Œì¥ë“œë¦½ë‹ˆë‹¤. ìê²©ì‹œí—˜ ì¤€ë¹„ë„ í•¨ê»˜ ì‹œì‘í•˜ì„¸ìš”!</p>
                        </div>
                    </div>

                    <div class="space-y-3">
                        ${recommendedCourses.map(course => `
                            <div class="bg-white rounded-2xl p-5 shadow-sm border border-gray-100">
                                <div class="flex items-start gap-4">
                                    <div class="w-10 h-10 rounded-xl flex items-center justify-center ${course.priority === 'high' ? 'bg-red-100' : 'bg-amber-100'}">
                                        <i data-lucide="${course.priority === 'high' ? 'zap' : 'lightbulb'}" class="w-5 h-5 ${course.priority === 'high' ? 'text-red-600' : 'text-amber-600'}"></i>
                                    </div>
                                    <div class="flex-1">
                                        <div class="flex items-center gap-2 mb-1">
                                            <span class="text-xs text-gray-400">${course.code}</span>
                                            <span class="text-xs px-1.5 py-0.5 rounded" style="background-color: ${courseCategories[course.category]?.bgColor}; color: ${courseCategories[course.category]?.color}">${courseCategories[course.category]?.name}</span>
                                            ${course.priority === 'high' ? '<span class="text-xs px-1.5 py-0.5 rounded bg-red-100 text-red-600">í•„ìˆ˜ ê¶Œì¥</span>' : ''}
                                        </div>
                                        <h4 class="font-bold text-gray-900">${course.name}</h4>
                                        <p class="text-sm text-gray-500 mt-1">${course.credits}í•™ì </p>
                                        <p class="text-sm text-gray-600 mt-2 bg-gray-50 rounded-lg p-3">ğŸ’¡ ${course.reason}</p>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>

                    <div class="bg-purple-50 rounded-2xl p-5 border border-purple-100">
                        <div class="flex items-start gap-3">
                            <i data-lucide="sparkles" class="w-5 h-5 text-purple-600 mt-0.5"></i>
                            <div>
                                <h4 class="font-medium text-purple-900">ìˆ˜ê°•í•œ ê³¼ëª© ê¸°ë°˜ ì¶”ì²œ</h4>
                                <p class="text-sm text-purple-700 mt-1">
                                    AIìœµí•©ì—°êµ¬ë°©ë²•ë¡ , ì˜ë£Œì¸ê³µì§€ëŠ¥, í¨í…Œí¬ ì¸í„´ì‹­ì„ ìˆ˜ê°•í•˜ì…¨ìœ¼ë¯€ë¡œ 
                                    í—¬ìŠ¤ì¼€ì–´ AI ë¶„ì•¼ì˜ ì‹¬í™” ê³¼ëª©ê³¼ ìê²©ì‹œí—˜ ì¤€ë¹„ë¥¼ ë³‘í–‰í•˜ì‹œëŠ” ê²ƒì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Chatbot responses
        const chatResponses = {
            'ì¡¸ì—…ìš”ê±´': `ğŸ“‹ **AIí—¬ìŠ¤ì¼€ì–´ìœµí•©í•™ê³¼ ì„ì‚¬ê³¼ì • ì¡¸ì—…ìš”ê±´**\n(2026-1í•™ê¸° ìˆ˜ê°•í¸ëŒ ê¸°ì¤€)\n\n**1ï¸âƒ£ ìˆ˜ë£Œì¡°ê±´**\nâ€¢ ì •ê·œí•™ê¸°ë“±ë¡: 4í•™ê¸° ì´ìƒ\nâ€¢ ì´ìˆ˜í•™ì : 24í•™ì  ì´ìƒ\nâ€¢ í‰ì í‰ê· : 3.0(B0) ì´ìƒ\nâ€¢ í•™ê³¼ ì§€ì • ê³µí†µÂ·ì „ê³µí•„ìˆ˜ ì´ìˆ˜\n\n**2ï¸âƒ£ í•™ìœ„ìˆ˜ì—¬ ìš”ê±´**\nâ€¢ í•™ìœ„ë…¼ë¬¸ì œì¶œ ìê²©ì‹œí—˜ í•©ê²©\nâ€¢ í•™ìœ„ë…¼ë¬¸ ì—°êµ¬ê³„íšì„œ í•©ê²©\nâ€¢ í•™ìœ„ë…¼ë¬¸ ë³¸ì‹¬ì‚¬ í•©ê²©\nâ€¢ í•™ìˆ ë°œí‘œ í™•ì¸ì„œ ì œì¶œ (1í¸ ì´ìƒ)\nâ€¢ í•™ìœ„ë…¼ë¬¸ ì œì¶œ`,
            
            'ìê²©ì‹œí—˜': `ğŸ“ **í•™ìœ„ë…¼ë¬¸ì œì¶œ ìê²©ì‹œí—˜ ì•ˆë‚´**\n\n**ì‘ì‹œ ìê²©**\nâ€¢ 15í•™ì  ì´ìƒ ì·¨ë“\n\n**ì‹œí—˜ ê³¼ëª©**\nâ€¢ 2ê³¼ëª© (ê³µí†µí•„ìˆ˜ ì¤‘ 1ê³¼ëª© í¬í•¨)\n\n**2026-1í•™ê¸° ì¼ì •**\nâ€¢ ì‹ ì²­: 3/6(ê¸ˆ)~3/9(ì›”)\nâ€¢ ì‹œí—˜: 3/27(ê¸ˆ)\nâ€¢ í•©ê²©ë°œí‘œ: 4/17(ê¸ˆ)\n\n**í•©ê²© ê¸°ì¤€**\nâ€¢ ê° ê³¼ëª©ë‹¹ 70ì  ì´ìƒ (100ì  ë§Œì )\n\nâš ï¸ ìê²©ì‹œí—˜ í•©ê²©í•´ì•¼ ì—°êµ¬ê³„íšì„œ ì œì¶œ ê°€ëŠ¥!`,
            
            'í•™ìˆ ë°œí‘œ': `ğŸ¤ **í•™ìˆ ë°œí‘œ ìš”ê±´ ì•ˆë‚´**\n\n**ìš”ê±´**\nâ€¢ í•™ìœ„ë…¼ë¬¸ ì œì¶œ ì´ì „ê¹Œì§€\nâ€¢ êµë‚´ì™¸ í•™ìˆ ë‹¨ì²´/ì—°êµ¬ì†Œ/í•™íšŒ ì£¼ê´€\nâ€¢ í•™ìˆ ëŒ€íšŒì—ì„œ 1í¸ ì´ìƒ ë°œí‘œ\nâ€¢ ê³µë™ì €ì ì´ìƒ ì—­í• \n\n**ì œì¶œ ì„œë¥˜**\nâ€¢ í•™ìˆ ë°œí‘œ í™•ì¸ì„œ (í•™ê³¼ì¥ í™•ì¸)\n\nğŸ’¡ íŒ: í—¬ìŠ¤ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì—°êµ¬ì› í•™ìˆ í–‰ì‚¬ ì°¸ì—¬ë¥¼ ê¶Œì¥ë“œë¦½ë‹ˆë‹¤.`,
            
            'ë‚¨ì€ í•™ì ': `ğŸ“Š **í˜„ì¬ ì´ìˆ˜ í˜„í™©**\n\nâ€¢ ì´ìˆ˜ í•™ì : ${totalCredits}í•™ì  / 24í•™ì \nâ€¢ ë¶€ì¡± í•™ì : ${24 - totalCredits}í•™ì \nâ€¢ ë“±ë¡ í•™ê¸°: ${completedSemesters}í•™ê¸° / 4í•™ê¸°\n\në‚¨ì€ 3í•™ê¸° ë™ì•ˆ ë§¤ í•™ê¸° 4ê³¼ëª©(12í•™ì )ì”© ìˆ˜ê°•í•˜ì‹œë©´ ì¶©ë¶„í•©ë‹ˆë‹¤. í˜„ì¬ í˜ì´ìŠ¤ëŒ€ë¡œ ì§„í–‰í•˜ì‹œë©´ ë©ë‹ˆë‹¤! ğŸ‘`,
            
            'ì§€ë„êµìˆ˜': `ğŸ‘¨â€ğŸ« **ì§€ë„êµìˆ˜ ë°°ì • ì•ˆë‚´**\n\n**ë°°ì • ì‹œê¸°**\nâ€¢ 2026-1í•™ê¸°: 3/16(ì›”)~3/27(ê¸ˆ)\n\n**ì‹ ì²­ ëŒ€ìƒ**\nâ€¢ AIí—¬ìŠ¤ì¼€ì–´ìœµí•©í•™ê³¼ í¬í•¨\n\n**ìœ ì˜ì‚¬í•­**\nâ€¢ ì…í•™ ì „ ì»¨íƒê³¼ ë³„ê°œë¡œ ê³µì‹ ì‹ ì²­ í•„ìˆ˜\nâ€¢ í•´ë‹¹ ê¸°ê°„ ë‚´ ì‹ ì²­í•´ì•¼ ì •ì‹ ì¸ì •\n\n**í˜„ì¬ ìˆ˜ê°• êµìˆ˜ë‹˜**\nâ€¢ ë°•ëŒ€ê·¼ êµìˆ˜ - AIìœµí•©ì—°êµ¬ë°©ë²•ë¡ \nâ€¢ ì •ê²½ì¸ êµìˆ˜ - AIì‘ìš©ì‚¬ë¡€ì—°êµ¬â… \nâ€¢ í•œí˜„ìš± êµìˆ˜ - í¨í…Œí¬ì¸í„´ì‹­\nâ€¢ ì¡°ë°±í™˜ êµìˆ˜ - ì˜ë£Œì¸ê³µì§€ëŠ¥`,
            
            'ìˆ˜ê°•ì‹ ì²­': `ğŸ“… **2026í•™ë…„ë„ 1í•™ê¸° ìˆ˜ê°•ì‹ ì²­**\n\nâ€¢ ìˆ˜ê°•ì‹ ì²­: 2/4(ìˆ˜)~2/6(ê¸ˆ)\nâ€¢ ë“±ë¡ê¸ˆ ë‚©ë¶€: 2/23(ì›”)~2/27(ê¸ˆ)\nâ€¢ ê°œê°•: 3/3(í™”)\nâ€¢ ìˆ˜ê°•ì‹ ì²­ ë³€ê²½: 3/10(í™”)~3/12(ëª©)\n\n**ìœ ì˜ì‚¬í•­**\nâ€¢ ë§¤ í•™ê¸° 12í•™ì  ì´ˆê³¼ ì‹ ì²­ ë¶ˆê°€\nâ€¢ ìµœì†Œ 1ê³¼ëª© ì´ìƒ ì‹ ì²­ í•„ìˆ˜\nâ€¢ ì¼ë°˜ëŒ€í•™ì›ì€ ë¹„ëŒ€ë©´ ì›ê²©ìˆ˜ì—… ì›ì¹™\n\nâš ï¸ í˜„ì¬ ìˆ˜ê°•ì‹ ì²­ ê¸°ê°„ì…ë‹ˆë‹¤!`,
            
            'ì—°êµ¬ì§€ë„': `ğŸ“š **ì—°êµ¬ì§€ë„ ìˆ˜ê°•ì‹ ì²­ ì•ˆë‚´**\n\n**ìˆ˜ê°• ì¡°ê±´**\nâ€¢ ìê²©ì‹œí—˜ í•©ê²© + ì—°êµ¬ê³„íšì„œ ì œì¶œ ìŠ¹ì¸ í›„\nâ€¢ ì°¨ê¸° í•™ê¸°ë¶€í„° ìˆ˜ê°• ê°€ëŠ¥\n\n**ê³¼ëª© ìˆœì„œ**\nâ€¢ ì—°êµ¬ì§€ë„â…  (3í•™ì )\nâ€¢ ì—°êµ¬ì§€ë„â…¡ (3í•™ì )\nâ€¢ ê°œì¸ì—°êµ¬ì§€ë„ (P/NP)\n\n**ìœ ì˜ì‚¬í•­**\nâ€¢ í•œ í•™ê¸°ì— 1ê³¼ëª©ë§Œ ìˆœì„œëŒ€ë¡œ ì‹ ì²­\nâ€¢ ì¡¸ì—… ì „ê¹Œì§€ ì—°êµ¬ì§€ë„â…  í•„ìˆ˜ ì´ìˆ˜`,
        };

        // Chat functionality
        let chatMessages = [
            { role: 'assistant', content: 'ì•ˆë…•í•˜ì„¸ìš”! ì°¨ì˜ê³¼í•™ëŒ€í•™êµ AIí—¬ìŠ¤ì¼€ì–´ìœµí•©í•™ê³¼ ì¡¸ì—…ìš”ê±´ AI ì–´ë“œë°”ì´ì €ì…ë‹ˆë‹¤. ğŸ“\n\ní•™ì¹™, ìˆ˜ê°•í¸ëŒ, ì¡¸ì—…ìš”ê±´ì— ëŒ€í•´ ê¶ê¸ˆí•œ ì ì´ ìˆìœ¼ì‹œë©´ ë¬´ì—‡ì´ë“  ë¬¼ì–´ë³´ì„¸ìš”!' }
        ];

        function renderChatMessages() {
            const container = document.getElementById('chat-messages');
            container.innerHTML = chatMessages.map(msg => `
                <div class="flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'} chat-bubble">
                    <div class="max-w-[85%] p-3 rounded-2xl ${msg.role === 'user' ? 'bg-indigo-600 text-white rounded-br-sm' : 'bg-gray-100 text-gray-800 rounded-bl-sm'}">
                        <p class="text-sm whitespace-pre-line">${msg.content}</p>
                    </div>
                </div>
            `).join('');
            container.scrollTop = container.scrollHeight;
        }

        function handleChatSubmit(input) {
            if (!input.trim()) return;
            
            chatMessages.push({ role: 'user', content: input });
            renderChatMessages();
            
            setTimeout(() => {
                let response = 'í•´ë‹¹ ì§ˆë¬¸ì— ëŒ€í•´ ë” ìì„¸í•œ ì •ë³´ê°€ í•„ìš”í•©ë‹ˆë‹¤. ë‹¤ìŒê³¼ ê°™ì€ ì§ˆë¬¸ì„ í•´ë³´ì„¸ìš”:\n\nâ€¢ "ì¡¸ì—…ìš”ê±´"\nâ€¢ "ìê²©ì‹œí—˜"\nâ€¢ "í•™ìˆ ë°œí‘œ"\nâ€¢ "ë‚¨ì€ í•™ì "\nâ€¢ "ì§€ë„êµìˆ˜"\nâ€¢ "ìˆ˜ê°•ì‹ ì²­"';
                
                for (const [key, value] of Object.entries(chatResponses)) {
                    if (input.includes(key)) {
                        response = value;
                        break;
                    }
                }
                
                chatMessages.push({ role: 'assistant', content: response });
                renderChatMessages();
            }, 500);
        }

        // Tab navigation
        function switchTab(tab) {
            const main = document.getElementById('main-content');
            
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('text-indigo-600', 'tab-active');
                btn.classList.add('text-gray-400');
            });
            document.querySelector(`[data-tab="${tab}"]`).classList.remove('text-gray-400');
            document.querySelector(`[data-tab="${tab}"]`).classList.add('text-indigo-600', 'tab-active');
            
            switch(tab) {
                case 'dashboard': main.innerHTML = renderDashboard(); break;
                case 'courses': main.innerHTML = renderCourses(); break;
                case 'recommend': main.innerHTML = renderRecommend(); break;
            }
            
            lucide.createIcons();
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            switchTab('dashboard');
            renderChatMessages();
            
            // Tab navigation
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.addEventListener('click', () => switchTab(btn.dataset.tab));
            });
            
            // Chat toggle
            document.getElementById('chat-toggle').addEventListener('click', () => {
                document.getElementById('chatbot').classList.remove('hidden');
                document.getElementById('chatbot').classList.add('flex');
                document.getElementById('chat-toggle').classList.add('hidden');
            });
            
            document.getElementById('chat-close').addEventListener('click', () => {
                document.getElementById('chatbot').classList.add('hidden');
                document.getElementById('chatbot').classList.remove('flex');
                document.getElementById('chat-toggle').classList.remove('hidden');
            });
            
            // Chat submit
            document.getElementById('chat-send').addEventListener('click', () => {
                const input = document.getElementById('chat-input');
                handleChatSubmit(input.value);
                input.value = '';
            });
            
            document.getElementById('chat-input').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    handleChatSubmit(e.target.value);
                    e.target.value = '';
                }
            });
            
            // Quick questions
            document.querySelectorAll('.quick-q').forEach(btn => {
                btn.addEventListener('click', () => {
                    handleChatSubmit(btn.textContent);
                });
            });
            
            lucide.createIcons();
        });
    </script>
</body>
</html>
